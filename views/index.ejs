<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quick Count - PILKADA 2024</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/client.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body style="font-family: 'Poppins', sans-serif">
    <div class="container results-container">
      <div class="row align-items-center mt-3">
        <div class="col-md-3 text-center">
          <img src="/sriber_logo.png" alt="sriber_logo" width="100" />
        </div>
        <div class="col-md-6 text-center">
          <h2 class="text-center">REAL COUNT - PILKADA 2024</h2>
          <h4 class="text-muted text-center">
            Kota Palembang | Prov. Sumatera Selatan
          </h4>
          <a class="btn btn-success" href="/cek-tps" role="button">Cek TPS</a>
        </div>
        <div class="col-md-3 text-center">
          <img src="/kpu_logo.png" alt="kpu_logo" width="100" />
        </div>
      </div>
      <hr />
      <p class="text-center versi">
        <b
          >Versi: <%= new Intl.DateTimeFormat('en-GB', { weekday: 'short', day:
          'numeric', month: 'short', year: 'numeric', hour: '2-digit', minute:
          '2-digit', second: '2-digit', hour12: false, timeZone: 'Asia/Bangkok'
          }).format(new Date(data[0].tanggal)); %> Progress: <%=
          data[0].total_tps_input %> dari <%= data[0].total_tps %> TPS (<%=
          data[0].persen_tps_input %>%), <%= data[0].total_suara_sah %> dari <%=
          data[0].total_dpt %> DPT (<%= data[0].persen_total_suara_sah %>%)
        </b>
      </p>
      <p class="text-center text-muted summary">
        Suara Sah: <%= data[0].total_suara_sah %> Tidak Sah: <%=
        data[0].tidak_sah %> Partisipasi: <%= data[0].total_suara_masuk %> (<%=
        data[0].persen_suara_masuk %>%)
      </p>
      <div class="row align-items-center mt-5">
        <div class="col-md-6">
          <canvas id="paslonChart" height="300"></canvas>
        </div>
        <div class="col-md-6 paslon-list-item">
          <% data.forEach(d => { %>
          <div
            class="row align-items-center"
            data-paslon-id="<%= d.paslon_nourut %>"
          >
            <div class="col-md-3">
              <img
                src="https://sribertech.shop/assets/img/paslon/<%= d.paslon_foto %>"
                alt="Foto Paslon <%= d.paslon_nama %>"
                height="96px"
                width="96px"
                style="object-fit: cover"
              />
            </div>
            <div class="col-md-9">
              <p>Nomer Urut: <b><%= d.paslon_nourut %></b></p>
              <p><b><%= d.paslon_nama %></b></p>
              <p class="paslon-list-hasil-suara">
                Total Suara:
                <b><%= d.suara_paslon %> (<%= d.persen_suara_paslon %>)%</b>
              </p>
            </div>
          </div>
          <hr />
          <% }) %>
        </div>
      </div>
    </div>
    <script>
      const initialData = <%- JSON.stringify(data || []).replace(/</g, '\\u003c') %>;
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
